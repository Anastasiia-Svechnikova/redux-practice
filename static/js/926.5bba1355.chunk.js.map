{"version":3,"file":"static/js/926.5bba1355.chunk.js","mappings":"+QAIaA,EAAW,mCAAG,6GAEIC,IAAAA,IAHd,4EACU,cAEbC,EAFa,yBAGZA,EAASC,MAHG,sCAKb,IAAIC,MAAM,KAAIC,SALD,yDAAH,qDASxB,ICZA,GAAgB,IAAM,0BAA0B,KAAO,2BAA2B,KAAO,4B,SCqDzF,EAhDiB,WACf,OAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,KAAa,SAAAC,GAAK,OAAIA,EAAMF,MAAV,KAEjCG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,mCAAG,6GAEAjB,IAFA,OAEZkB,EAFY,OAGlBV,EAAeU,GAHG,gDAKlBR,EAAgB,yBAChBS,QAAQC,IAAI,KAAIf,SANE,yDAAH,qDASrBY,GACC,GAAE,IAEH,IAKMI,EAAoB,SAACC,GACzB,OAAOT,EAAOU,MAAK,qBAAEC,KAAcF,CAAhB,GACpB,EAGKG,EAAWlB,EAAYmB,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAOJ,EAAhB,EAAgBA,GAAhB,OAAyB,gBAAIK,UAAWC,EAAAA,KAAf,WACxD,cAAGD,UAAWC,EAAAA,KAAd,SAAuBH,KACvB,mCAAWC,MACX,mBAAQC,UAAWC,EAAAA,IAAOC,KAAK,SAASC,SAAUX,EAAkBG,GAAKS,QAAS,kBAb3D,SAACX,GACxB,IAAMY,EAAe3B,EAAY4B,MAAK,qBAAGX,KAAgBF,CAAnB,IACtCX,GAASyB,EAAAA,EAAAA,GAAiBF,GAC3B,CAUyFG,CAAiBb,EAAvB,EAAlF,SAAgHH,EAAkBG,GAAM,YAAc,UAHlEA,EAArD,IAOjC,OACE,iCACE,qCACCjB,IAAe,eAAIsB,UAAWC,EAAAA,KAAf,SAAwBL,IACvChB,IAAgB,uBAAIA,MAK1B,C,2FCnDY6B,EAAsB,SAACd,GAAS,MAAO,CAAEO,KAAMQ,EAAAA,EAAgBC,QAAShB,EAAM,EAC9EY,EAAmB,SAACK,GAAc,MAAO,CAAEV,KAAMW,EAAAA,EAAaF,QAASC,EAAW,C","sources":["services/API/api.js","webpack://react-homework-template/./src/pages/ProductsPage/productsPage.module.css?9bff","pages/ProductsPage/ProductsPage.jsx","store/basket/actions.basket.js"],"sourcesContent":["\n\nimport axios from 'axios';\nconst BASE_URL = 'https://62becfba0bc9b125615fd0f7.mockapi.io/api/products?page=1&limit=10'\nexport const getProducts = async () => {\n    try {\n        const response = await axios.get(BASE_URL)\n        return response.data;\n    } catch (err) {\n        throw new Error(err.message)\n    }\n    \n}\nexport default getProducts;","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"productsPage_btn__DCDsW\",\"list\":\"productsPage_list__c-fdA\",\"name\":\"productsPage_name__6y-Lr\"};","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actionAddProduct } from \"store/basket/actions.basket\";\nimport getProducts from \"services/API/api\";\nimport s from './productsPage.module.css';\n\nconst HomePage = () => {\n  const [allProducts, setAllProducts] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const dispatch = useDispatch();\n  const basket = useSelector((state => state.basket));\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await getProducts();\n        setAllProducts(res)\n      } catch (err) {\n        setErrorMessage('Something went wrong(')\n        console.log(err.message)\n      }\n  }\n  fetchProducts()\n  }, [])\n\n  const handleAddProduct = (newId) => {\n    const productToAdd = allProducts.find(({ id }) => id === newId);\n    dispatch(actionAddProduct(productToAdd))\n  }\n\n  const isProductInBasket = (newId) => {\n    return basket.some(({id})=> id === newId )\n  }\n\n  \n  const elements = allProducts.map(({ name, price, id }) => <li className={s.item} key={id}>\n    <p className={s.name}>{name}</p>\n    <p>Price: {price}</p>\n    <button className={s.btn} type=\"button\" disabled={isProductInBasket(id)} onClick={() => handleAddProduct(id)}>{ isProductInBasket(id) ? \"In basket\" : 'Buy'}</button>\n  </li>)\n\n\n  return (\n    <>\n      <h2>Products</h2>\n      {allProducts && <ul className={s.list}>{elements}</ul>}\n      {errorMessage && <p>{errorMessage}</p>}\n    </>\n    \n  )\n\n};\n\nexport default HomePage;","import { DELETE_PRODUCT, ADD_PRODUCT } from './actionTypes.basket';\nexport const actionDeleteProduct = (id) => { return { type: DELETE_PRODUCT, payload: id } };\nexport const actionAddProduct = (product) => { return { type: ADD_PRODUCT, payload: product } };"],"names":["getProducts","axios","response","data","Error","message","useState","allProducts","setAllProducts","errorMessage","setErrorMessage","dispatch","useDispatch","basket","useSelector","state","useEffect","fetchProducts","res","console","log","isProductInBasket","newId","some","id","elements","map","name","price","className","s","type","disabled","onClick","productToAdd","find","actionAddProduct","handleAddProduct","actionDeleteProduct","DELETE_PRODUCT","payload","product","ADD_PRODUCT"],"sourceRoot":""}